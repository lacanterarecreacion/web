---
import Logo from "@/components/Icons/Logo.astro";
import Navigation from "@/components/Navigation/Navigation.astro";
import CallToActions from "./CallToActions.astro";
---

<header
  id="headroom"
  class="fixed shadow-md bg-white py-2 top-0 left-0 flex justify-between right-0 z-50"
>
  <div
    class="max-w-7xl px-2 md:px-0 relative z-10 mx-auto flex items-center justify-between w-full"
  >
    <a href="/" rel="prefetch" class="flex justify-start items-center pl-1 md:pl-0">
      <Logo />
    </a>
    <div class="hidden xl:flex items-center gap-2 flex-col">
      <CallToActions />
      <Navigation />
    </div>
  </div>
</header>

<script>
  // @ts-ignore
  import Headroom from "headroom.js";
  var element = document.querySelector("#headroom");
  var options = {
    offset: {
      up: 0,
      down: 300,
    },
    tolerance: 5,
  };
  var headroom = new Headroom(element, options);
  headroom.init({});
</script>

<style>
  .headroom {
    transition: all 300ms ease-in-out;
  }

  .headroom--scrolled {
  }

  .headroom--unpinned {
    /* transform: translateY(-100%);*/
    background: transparent !important;
    backdrop-filter: blur(0) !important;
  }

  .headroom--unpinned {
    @apply !bg-white;
    /* opacity: 0; */
    /* transition-delay: 0s; */
  }

  @screen md {
    .headroom--unpinned {
      /* transform: translateY(-100%);*/
      opacity: 0;
      background: transparent !important;
      backdrop-filter: blur(0) !important;
      pointer-events: none;
    }

    .headroom--unpinned {
      opacity: 0;
      transition-delay: 0s;
    }
  }
  .headroom--pinned {
    position: fixed;
    @apply bg-opacity-90 backdrop-blur-lg;
    transform: translateY(0%);
  }
</style>
